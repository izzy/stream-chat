<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Izzy could have inserted a really cool title here</title>
    <style>
        :root {
            --user-color: #00ff00;
            --time-color: #ff0000;
            --message-color: #0000ff;

            --user-color: #00ff00;
            --time-color: #ff0000;
            --message-color: #0000ff;
            --message-background: #000000;

            --user-default-color: #00ff00;
            
            --highlight-text-color: #ff0000;
            --highlight-background-color: #0000ff;

            --announcement-text-color: #0000ff;
            --announcement-background-color: #000000;

            --fade-duration: 0.5s;

            --font-family: 'Roboto', sans-serif;
            --font-size: 16px;

            --emote-size: 32px;
        }

        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
            background-color: black;
            color: white;
        }
    </style>
</head>

<body>
    <message-line user="izzy9000" user-color="#000000">Hello World</message-line>
    
    <hr>
    
    <message-bubble>Message Bubble</message-bubble>


    <script>
        window._templates = {}
        window._classList = {}

        var BASE_PATH = window.location.href.replace(/[^/]*?\.html/, '');

        function loadTemplate(template, callback) {
            if (document.getElementById(`import-template-${template}`) === null) {
                let import_script = document.createElement('script');
                import_script.id = `import-template-${template}`;
                import_script.src = `themes/${template}/index.js`;

                let script = document.body.appendChild(import_script);
                script.onload = callback;
            } else {
                callback();
            }
        }

        let tag_names = ['message-line', 'message-bubble'];

        function addTemplateToPage(tag_name) {
            loadTemplate(tag_name, () => {
                window.customElements.define(tag_name, window._classList[tag_name]);
            });
        };

        for (let tag_name of tag_names) {
            if (tag_name !== undefined) {
                addTemplateToPage(tag_name);
            }
        }
    </script>
</body>

</html>